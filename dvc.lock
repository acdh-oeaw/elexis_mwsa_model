schema: '2.0'
stages:
  en:
    cmd: python -m mwsa_model.load_data en
    deps:
    - path: mwsa_model/load_data.py
      md5: 5b8c8555c062707fc9cd3af441a8d6ee
      size: 1488
    params:
      en_params.yaml:
        data.dataset: english_nuig.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/data/features_english_nuig.tsv.pkl
      md5: 794b7587484aae63faf803ef13f770bc
      size: 399441
    - path: mwsa_model/data/labels_english_nuig.tsv.pkl
      md5: a00bc01b22d700bb18c8cf127fcc86ad
      size: 17443
  en_train:
    cmd: python -m mwsa_model.train english_nuig.tsv en
    deps:
    - path: mwsa_model/data/labels_english_nuig.tsv.pkl
      md5: a00bc01b22d700bb18c8cf127fcc86ad
      size: 17443
    - path: mwsa_model/output/preprocessed_english_nuig.tsv.pkl
      md5: 6418523fa8364c45b6e80c763fde6c14
      size: 476790
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    - path: mwsa_model/train.py
      md5: 26c0e6bd89e88b66089c096eb64ffc35
      size: 2529
    params:
      en_params.yaml:
        lang.preprocess__lang: en
        random_forest.random_forest__bootstrap:
        - true
        random_forest.random_forest__class_weight:
        - balanced
        random_forest.random_forest__max_depth:
        - 30
        - 50
        random_forest.random_forest__max_features:
        - auto
        random_forest.random_forest__min_samples_leaf:
        - 3
        random_forest.random_forest__min_samples_split:
        - 2
        random_forest.random_forest__n_estimators:
        - 100
        random_forest.random_forest__n_jobs:
        - -1
        random_forest.random_forest__random_state:
        - 7
    outs:
    - path: mwsa_model/output/metrics/en_cv_score.txt
      md5: 8495a30bf24a55757be8751402e9c296
      size: 26
    - path: mwsa_model/output/models/en.joblib
      md5: 796ebda2b590ea49277fc99acfa4660f
      size: 14184499
    - path: mwsa_model/output/models/en.pkl
      md5: 745d52397bfa2ad138e78cb0300a7411
      size: 14189385
  en_evaluate:
    cmd: python -m mwsa_model.evaluate en.pkl metrics_en.json en_predictions.txt en
    deps:
    - path: mwsa_model/evaluate.py
      md5: 4a65670c9cdd1bd8c63ac57c47a1f7e3
      size: 4289
    - path: mwsa_model/output/models/en.pkl
      md5: 745d52397bfa2ad138e78cb0300a7411
      size: 14189385
    - path: mwsa_model/output/pipeline/pipeline_english_nuig.tsv.pkl
      md5: 8a7ba3b0faeea1e6de035a04af89bd9e
      size: 1126
    params:
      en_params.yaml:
        data.dataset: english_nuig.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/output/metrics/metrics_en.json
      md5: 53e3b0aef8b7244ff2a2d81270dcf9fc
      size: 89
    - path: mwsa_model/output/predictions/en_predictions.txt
      md5: 49c44a046b3bd9170c11220e921285e8
      size: 85583
  de:
    cmd: python -m mwsa_model.load_data data/train/ german.tsv
    deps:
    - path: data/train/german.tsv
      md5: dd879482c2f97d2eae4eacd0993f87c0
      size: 709658
    - path: mwsa_model/load_data.py
      md5: e0a7bd8e50320f9314afb9b0cdc09bc6
      size: 1224
    outs:
    - path: mwsa_model/data/features_german.tsv.pkl
      md5: 3218d7f8592a97cd62e7a348505b9326
      size: 290272
    - path: mwsa_model/data/labels_german.tsv.pkl
      md5: e1cbee1a1164bd71735d2d8578f356d6
      size: 9538
  de_train:
    cmd: python -m mwsa_model.train german.tsv de
    deps:
    - path: mwsa_model/data/labels_german.tsv.pkl
      md5: 02ba83cd3a751d1c0092e633afa8a301
      size: 9583
    - path: mwsa_model/output/preprocessed_german.tsv.pkl
      md5: 8bb0593a373f11aba6dd24d73fed8b87
      size: 111656
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    - path: mwsa_model/train.py
      md5: 26c0e6bd89e88b66089c096eb64ffc35
      size: 2529
    params:
      de_params.yaml:
        lang.preprocess__lang: de
        random_forest.random_forest__bootstrap:
        - true
        random_forest.random_forest__class_weight:
        - balanced
        random_forest.random_forest__max_depth:
        - 10
        - 30
        - 50
        random_forest.random_forest__max_features:
        - auto
        random_forest.random_forest__min_samples_leaf:
        - 3
        random_forest.random_forest__min_samples_split:
        - 2
        random_forest.random_forest__n_estimators:
        - 100
        random_forest.random_forest__n_jobs:
        - -1
        random_forest.random_forest__random_state:
        - 7
    outs:
    - path: mwsa_model/output/metrics/de_cv_score.txt
      md5: 6adecbd2abb7746b410965d02b14284c
      size: 26
    - path: mwsa_model/output/models/de.pkl
      md5: e5f9169fcc5488ed085608fab1b96676
      size: 3364777
  de_evaluate:
    cmd: python -m mwsa_model.evaluate de.pkl metrics_de.json de_predictions.txt de
    deps:
    - path: mwsa_model/evaluate.py
      md5: 4a65670c9cdd1bd8c63ac57c47a1f7e3
      size: 4289
    - path: mwsa_model/output/models/de.pkl
      md5: e5f9169fcc5488ed085608fab1b96676
      size: 3364777
    - path: mwsa_model/output/pipeline/pipeline_german.tsv.pkl
      md5: 89a14f85e53378ad0874e1b0d3ca1576
      size: 833
    params:
      de_params.yaml:
        data.dataset: german.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/output/metrics/metrics_de.json
      md5: 97524ff9af52ddb863f7e0f8fe3f08c1
      size: 88
    - path: mwsa_model/output/predictions/de_predictions.txt
      md5: 492652c15dc46fccc66342dac719b935
      size: 90033
  en_preprocess:
    cmd: python -m mwsa_model.preprocess english_nuig.tsv en
    deps:
    - path: mwsa_model/data/features_english_nuig.tsv.pkl
      md5: 794b7587484aae63faf803ef13f770bc
      size: 399441
    - path: mwsa_model/preprocess.py
      md5: 2411300a8d92c27c762fb349ed340bd4
      size: 1468
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    outs:
    - path: mwsa_model/output/pipeline/pipeline_english_nuig.tsv.pkl
      md5: 8a7ba3b0faeea1e6de035a04af89bd9e
      size: 1126
    - path: mwsa_model/output/preprocessed_english_nuig.tsv.pkl
      md5: 6418523fa8364c45b6e80c763fde6c14
      size: 476790
  sr_load:
    cmd: python -m mwsa_model.load_data sr
    deps:
    - path: mwsa_model/load_data.py
      md5: 5b8c8555c062707fc9cd3af441a8d6ee
      size: 1488
    params:
      sr_params.yaml:
        data.dataset: serbian.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/data/features_serbian.tsv.pkl
      md5: 63b85f2071222b81c7308fb91d6cd215
      size: 347202
    - path: mwsa_model/data/labels_serbian.tsv.pkl
      md5: cdeba460ffe46daa36039365bdf52127
      size: 12353
  sl_load:
    cmd: python -m mwsa_model.load_data sl
    deps:
    - path: mwsa_model/load_data.py
      md5: 5b8c8555c062707fc9cd3af441a8d6ee
      size: 1488
    params:
      sl_params.yaml:
        data.dataset: slovene.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/data/features_slovene.tsv.pkl
      md5: 8b64fa4235e6128846b396ca9dfeba25
      size: 217589
    - path: mwsa_model/data/labels_slovene.tsv.pkl
      md5: eb4f9e3486bbfea3b6cfe1d5d897bd38
      size: 14199
  sl_preprocess:
    cmd: python -m mwsa_model.preprocess slovene.tsv sl
    deps:
    - path: mwsa_model/data/features_slovene.tsv.pkl
      md5: 8b64fa4235e6128846b396ca9dfeba25
      size: 217589
    - path: mwsa_model/preprocess.py
      md5: 2411300a8d92c27c762fb349ed340bd4
      size: 1468
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    outs:
    - path: mwsa_model/output/pipeline/pipeline_slovene.tsv.pkl
      md5: f4103ff05667dc16e66919747d6aee73
      size: 833
    - path: mwsa_model/output/preprocessed_slovene.tsv.pkl
      md5: f4896d254252a010a1262b75c4208d81
      size: 169306
  sl_train:
    cmd: python -m mwsa_model.train slovene.tsv sl
    deps:
    - path: mwsa_model/data/labels_slovene.tsv.pkl
      md5: eb4f9e3486bbfea3b6cfe1d5d897bd38
      size: 14199
    - path: mwsa_model/output/preprocessed_slovene.tsv.pkl
      md5: f4896d254252a010a1262b75c4208d81
      size: 169306
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    - path: mwsa_model/train.py
      md5: 26c0e6bd89e88b66089c096eb64ffc35
      size: 2529
    params:
      sl_params.yaml:
        lang.preprocess__lang: sl
        random_forest.random_forest__bootstrap:
        - true
        random_forest.random_forest__class_weight:
        - balanced
        - balanced_subsample
        random_forest.random_forest__max_depth:
        - 10
        - 30
        - 50
        random_forest.random_forest__max_features:
        - auto
        random_forest.random_forest__min_samples_leaf:
        - 2
        - 5
        - 10
        random_forest.random_forest__min_samples_split:
        - 2
        - 5
        - 10
        random_forest.random_forest__n_estimators:
        - 50
        - 100
        - 200
        random_forest.random_forest__n_jobs:
        - -1
        random_forest.random_forest__random_state:
        - 7
    outs:
    - path: mwsa_model/output/metrics/sl_cv_score.txt
      md5: a82c7638a199f37fca3f4815d063fb0e
      size: 26
    - path: mwsa_model/output/models/sl.pkl
      md5: f46062224d9bcfdabcabc318f4a44335
      size: 861135
  sl_evaluate:
    cmd: python -m mwsa_model.evaluate sl.pkl metrics_sl.json sl_predictions.txt sl
    deps:
    - path: mwsa_model/evaluate.py
      md5: 4a65670c9cdd1bd8c63ac57c47a1f7e3
      size: 4289
    - path: mwsa_model/output/models/sl.pkl
      md5: f46062224d9bcfdabcabc318f4a44335
      size: 861135
    - path: mwsa_model/output/pipeline/pipeline_slovene.tsv.pkl
      md5: f4103ff05667dc16e66919747d6aee73
      size: 833
    params:
      sl_params.yaml:
        data.dataset: slovene.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/output/metrics/metrics_sl.json
      md5: 3b974f412e78c936bba9e905b7380d33
      size: 89
    - path: mwsa_model/output/predictions/sl_predictions.txt
      md5: 72782a272d5b351bdf298e435f0d792e
      size: 62362
  de_load:
    cmd: python -m mwsa_model.load_data de
    deps:
    - path: mwsa_model/load_data.py
      md5: 5b8c8555c062707fc9cd3af441a8d6ee
      size: 1488
    params:
      de_params.yaml:
        data.dataset: german.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/data/features_german.tsv.pkl
      md5: 1bdd37dde0c849f16e93270899dda887
      size: 290326
    - path: mwsa_model/data/labels_german.tsv.pkl
      md5: 02ba83cd3a751d1c0092e633afa8a301
      size: 9583
  de_preprocess:
    cmd: python -m mwsa_model.preprocess german.tsv de
    deps:
    - path: mwsa_model/data/features_german.tsv.pkl
      md5: 1bdd37dde0c849f16e93270899dda887
      size: 290326
    - path: mwsa_model/preprocess.py
      md5: 2411300a8d92c27c762fb349ed340bd4
      size: 1468
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    outs:
    - path: mwsa_model/output/pipeline/pipeline_german.tsv.pkl
      md5: 89a14f85e53378ad0874e1b0d3ca1576
      size: 833
    - path: mwsa_model/output/preprocessed_german.tsv.pkl
      md5: 8bb0593a373f11aba6dd24d73fed8b87
      size: 111656
  sr_preprocess:
    cmd: python -m mwsa_model.preprocess serbian.tsv sr
    deps:
    - path: mwsa_model/data/features_serbian.tsv.pkl
      md5: 63b85f2071222b81c7308fb91d6cd215
      size: 347202
    - path: mwsa_model/preprocess.py
      md5: 2411300a8d92c27c762fb349ed340bd4
      size: 1468
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    outs:
    - path: mwsa_model/output/pipeline/pipeline_serbian.tsv.pkl
      md5: 12f72b233df242d2a844b429feacc68e
      size: 833
    - path: mwsa_model/output/preprocessed_serbian.tsv.pkl
      md5: 29c3e29c37e55f3783d0f6a0c9259c4f
      size: 146256
  sr_train:
    cmd: python -m mwsa_model.train serbian.tsv sr
    deps:
    - path: mwsa_model/data/labels_serbian.tsv.pkl
      md5: cdeba460ffe46daa36039365bdf52127
      size: 12353
    - path: mwsa_model/output/preprocessed_serbian.tsv.pkl
      md5: 29c3e29c37e55f3783d0f6a0c9259c4f
      size: 146256
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    - path: mwsa_model/train.py
      md5: 26c0e6bd89e88b66089c096eb64ffc35
      size: 2529
    params:
      sr_params.yaml:
        lang.preprocess__lang: sr
        random_forest.random_forest__bootstrap:
        - true
        random_forest.random_forest__class_weight:
        - balanced
        - balanced_subsample
        random_forest.random_forest__max_depth:
        - 10
        - 30
        - 50
        random_forest.random_forest__max_features:
        - auto
        random_forest.random_forest__min_samples_leaf:
        - 2
        - 5
        - 10
        random_forest.random_forest__min_samples_split:
        - 2
        - 5
        - 10
        random_forest.random_forest__n_estimators:
        - 50
        - 100
        - 200
        random_forest.random_forest__n_jobs:
        - -1
        random_forest.random_forest__random_state:
        - 7
    outs:
    - path: mwsa_model/output/metrics/sr_cv_score.txt
      md5: 410bae562a9d7ec5a492e21a1408c684
      size: 26
    - path: mwsa_model/output/models/sr.pkl
      md5: eadd813c3141a92f8b15ba01c5ae5eff
      size: 446981
