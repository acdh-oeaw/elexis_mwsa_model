schema: '2.0'
stages:
  en:
    cmd: python -m mwsa_model.load_data en
    deps:
    - path: mwsa_model/load_data.py
      md5: 5b8c8555c062707fc9cd3af441a8d6ee
      size: 1488
    params:
      en_params.yaml:
        data.dataset: english_nuig.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/data/features_english_nuig.tsv.pkl
      md5: 794b7587484aae63faf803ef13f770bc
      size: 399441
    - path: mwsa_model/data/labels_english_nuig.tsv.pkl
      md5: a00bc01b22d700bb18c8cf127fcc86ad
      size: 17443
  en_preprocess:
    cmd: python -m mwsa_model.preprocess english_nuig.tsv en
    deps:
    - path: mwsa_model/data/features_english_nuig.tsv.pkl
      md5: 794b7587484aae63faf803ef13f770bc
      size: 399441
    - path: mwsa_model/preprocess.py
      md5: b4a803a13acf3182be4efe2cd105297f
      size: 1431
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    outs:
    - path: mwsa_model/output/pipeline/pipeline_english_nuig.tsv.pkl
      md5: 8a7ba3b0faeea1e6de035a04af89bd9e
      size: 1126
    - path: mwsa_model/output/preprocessed_english_nuig.tsv.pkl
      md5: 6418523fa8364c45b6e80c763fde6c14
      size: 476790
  en_train:
    cmd: python -m mwsa_model.train english_nuig.tsv en
    deps:
    - path: mwsa_model/data/labels_english_nuig.tsv.pkl
      md5: a00bc01b22d700bb18c8cf127fcc86ad
      size: 17443
    - path: mwsa_model/output/preprocessed_english_nuig.tsv.pkl
      md5: 6418523fa8364c45b6e80c763fde6c14
      size: 476790
    - path: mwsa_model/service/model_trainer.py
      md5: bb4c61d89acc83506940d61c1d8a5ef8
      size: 1871
    - path: mwsa_model/train.py
      md5: d390e9228f06ad030d798ba28184f18c
      size: 2530
    params:
      en_params.yaml:
        lang.preprocess__lang: en
        random_forest.random_forest__bootstrap:
        - true
        random_forest.random_forest__class_weight:
        - balanced
        random_forest.random_forest__max_depth:
        - 10
        - 30
        - 50
        - 100
        random_forest.random_forest__max_features:
        - auto
        random_forest.random_forest__min_samples_leaf:
        - 3
        - 5
        - 10
        random_forest.random_forest__min_samples_split:
        - 2
        - 5
        - 10
        random_forest.random_forest__n_estimators:
        - 50
        - 100
        - 200
        - 500
        random_forest.random_forest__n_jobs:
        - -1
        random_forest.random_forest__random_state:
        - 7
    outs:
    - path: mwsa_model/output/metrics/en_cv_score.txt
      md5: 8495a30bf24a55757be8751402e9c296
      size: 26
    - path: mwsa_model/output/models/en.joblib
      md5: e597c40985793236ff6839a60533545b
      size: 14208307
    - path: mwsa_model/output/models/en.pkl
      md5: 67d10668cd93631500b8691f46dd79cf
      size: 14213229
  en_evaluate:
    cmd: python -m mwsa_model.evaluate en.pkl metrics_en.json en_predictions.txt en
    deps:
    - path: mwsa_model/evaluate.py
      md5: a01528c3bc4b61a9a2e84641460c96cc
      size: 4271
    - path: mwsa_model/output/models/en.pkl
      md5: 67d10668cd93631500b8691f46dd79cf
      size: 14213229
    - path: mwsa_model/output/pipeline/pipeline_english_nuig.tsv.pkl
      md5: 8a7ba3b0faeea1e6de035a04af89bd9e
      size: 1126
    params:
      en_params.yaml:
        data.dataset: english_nuig.tsv
        data.version: v1.0
    outs:
    - path: mwsa_model/output/metrics/metrics_en.json
      md5: 53e3b0aef8b7244ff2a2d81270dcf9fc
      size: 89
    - path: mwsa_model/output/predictions/en_predictions.txt
      md5: 49c44a046b3bd9170c11220e921285e8
      size: 85583
